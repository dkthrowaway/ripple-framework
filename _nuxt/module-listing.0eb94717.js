import Q from"./DocsContentNavigation.9fca72ae.js";import W from"./DocsPageHeader.7535f022.js";import{g as O,n as u,m as z,D as X,a5 as Y,E as H,o as f,c as w,a as l,t as C,G as Z,au as ee,y as te,av as d,r as E,h as A,F as P,C as U,H as M,d as se,b,I as ne,aw as r,z as ae,B as oe,k as le,J as re,i as F,w as g,v as B,N as ue,K as ie}from"./entry.ccb7834f.js";import{o as ce}from"./index.eb184ad0.js";import{_ as pe}from"./RplIcon.vue.8f360716.js";import{u as de}from"./useRippleEvent.57f444ce.js";import{_ as fe}from"./RplPromoCard.vue.94538c22.js";import me from"./DocsCardGrid.128993c2.js";import{_ as _e}from"./AppSidebarLayout.vue.37883185.js";import{_ as ve}from"./AppLayout.vue.8a59db29.js";import{u as ge}from"./asyncData.00443c43.js";import{u as be}from"./head.b67cc5ce.js";import"./useDocsNavigation.451e41a4.js";import"./RplLink.vue.7c84777d.js";import"./RplExpandable.vue.99ea84e9.js";import"./DocsNavLink.698dbde3.js";import"./nuxt-link.b898ab4e.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./config.12f4bc06.js";import"./DocsLink.136c4cf4.js";import"./RplTextLink.css.8edc42e9.js";import"./RplImage.css.04e18780.js";import"./RplList.vue.b5a5d18a.js";const he=["onKeydown"],ye=["for"],we=["id","aria-owns","aria-expanded","placeholder"],$e=l("div",{class:"rpl-search-bar__menu"},[l("span",{class:"rpl-search-bar__menu-noresults"}," No results ")],-1),Se=["id"],Re=["id","data-option-id","onKeydown","onClick"],Be={class:"rpl-search-bar__right"},Te={type:"submit","aria-label":"search",class:"rpl-search-bar-submit rpl-u-focusable-inline"},xe={key:0,class:"rpl-search-bar-submit__label rpl-type-label rpl-type-weight-bold"},ke={class:"rpl-search-bar-submit__icon"},Ie={inheritAttrs:!1},Ce=O({...Ie,__name:"RplSearchBar",props:{variant:{default:"default"},id:{},autoFocus:{type:Boolean,default:!1},inputLabel:{default:"Search"},inputValue:{default:""},submitLabel:{type:[String,Boolean],default:"Search"},suggestions:{default:()=>[]},maxSuggestionsDisplayed:{default:10},placeholder:{default:void 0},globalEvents:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!1}},emits:["update:inputValue","submit"],setup(K,{emit:i}){const n=K,{emitRplEvent:m}=de("rpl-search-bar",i),c=u(""),D=u(null),_=u(null),T=u(null),v=u([]),x=u(null),$=z(()=>`${n.id}__menu`),o=u(!1),a=u(null);X(()=>{n.autoFocus&&(x.value=setTimeout(()=>_.value.focus(),100))}),Y(()=>{clearTimeout(x.value)}),ce(D,()=>{h(!1)});const k=e=>{m("submit",{action:"search",id:n.id,value:c.value,text:e==="button"?n.submitLabel:null,type:e},{global:n.globalEvents})},L=e=>{c.value=e.target.value,i("update:inputValue",e.target.value),o.value=!0},S=(e,t)=>{t&&_.value.focus(),c.value=e,i("update:inputValue",e),o.value=!1,m("submit",{action:"search",id:n.id,text:e,value:e,type:"suggestion"},{global:n.globalEvents})},R=()=>n.suggestions[0],V=(e=!1)=>{var t;o.value=!0,e&&((t=n.suggestions)!=null&&t.length)&&(a.value=R())},h=(e=!1)=>{o.value=!1,a.value=null,e&&_.value.focus()},p=()=>{const e=n.suggestions.findIndex(t=>t===a.value);e<0?a.value=R():e<n.suggestions.length-1&&(a.value=n.suggestions[e+1])},I=()=>{const e=n.suggestions.findIndex(t=>t===a.value);e<0?a.value=R():e>0&&(a.value=n.suggestions[e-1])},q=e=>e>47&&e<58||e===32||e===8||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223,G=e=>{q(e.keyCode)&&_.value.focus()},J=e=>a.value===e,j=e=>{const t=v.value.find(y=>y.dataset.optionId===e),s=T.value;if(s.scrollHeight>s.clientHeight){let y=s.clientHeight+s.scrollTop,N=t.offsetTop+t.offsetHeight;N>y?s.scrollTop=N-s.clientHeight:t.offsetTop<s.scrollTop&&(s.scrollTop=t.offsetTop)}t&&t.focus()};return H(()=>n.inputValue,e=>{c.value=e},{immediate:!0}),H(a,async e=>{e!==null&&(await ae(),j(e))}),(e,t)=>(f(),w("form",{class:M(`rpl-search-bar rpl-search-bar--${e.variant}`),style:ne({"--local-max-items":e.maxSuggestionsDisplayed}),onSubmit:t[6]||(t[6]=r(s=>k("button"),["prevent"]))},[l("div",{ref_key:"containerRef",ref:D,class:"rpl-search-bar__input-wrap",onKeydown:[d(r(p,["prevent"]),["down"]),d(r(I,["prevent"]),["up"]),t[3]||(t[3]=d(r(s=>h(!0),["prevent"]),["esc"])),t[4]||(t[4]=d(r(s=>h(!1),["exact"]),["tab"])),t[5]||(t[5]=d(r(s=>h(!1),["shift"]),["tab"]))]},[l("label",{class:"rpl-u-visually-hidden",for:e.id},C(e.inputLabel),9,ye),Z(l("input",te(e.$attrs,{id:e.id,ref_key:"inputRef",ref:_,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),"aria-owns":$.value,autocomplete:"off","aria-autocomplete":"list","aria-expanded":o.value,placeholder:e.placeholder,role:"combobox",class:{"rpl-search-bar__input":!0,"rpl-u-focusable-outline":!0,"rpl-u-focusable-outline--no-border":!0,"rpl-u-focusable--force-on":o.value},type:"search",onInput:L,onFocus:t[1]||(t[1]=s=>V(!1)),onKeydown:t[2]||(t[2]=d(r(s=>k("enter"),["prevent"]),["enter"]))}),null,16,we),[[ee,c.value]]),e.showNoResults&&e.suggestions.length===0&&c.value.length>0&&o.value?E(e.$slots,"noresults",{key:0},()=>[$e]):A("",!0),e.suggestions.length&&o.value?(f(),w("div",{key:1,id:$.value,ref_key:"menuRef",ref:T,class:"rpl-search-bar__menu",role:"listbox",tabindex:"-1"},[(f(!0),w(P,null,U(e.suggestions,s=>(f(),w("div",{id:s,key:s,ref_for:!0,ref_key:"optionRefs",ref:v,"data-option-id":s,role:"option",class:M({"rpl-search-bar__menu-option":!0,"rpl-u-focusable-block":!0,"rpl-u-focusable--force-on":J(s)}),tabindex:"-1",onKeydown:[d(r(y=>S(s,!0),["prevent"]),["space"]),d(r(y=>S(s,!0),["prevent"]),["enter"]),G],onClick:y=>S(s,!1)},[E(e.$slots,"suggestion",{option:{option:s}},()=>[se(C(s),1)])],42,Re))),128))],8,Se)):A("",!0)],40,he),l("div",Be,[l("button",Te,[e.submitLabel?(f(),w("span",xe,C(e.submitLabel),1)):A("",!0),l("span",ke,[b(pe,{name:"icon-search",size:"m"})])])])],38))}});const De={class:"rpl-u-margin-b-8"},tt=O({__name:"module-listing",async setup(K){let i,n;const{page:m}=oe();be(m);const _=le().params.slug[0]==="framework",{data:T}=([i,n]=re(async()=>ge("module-listing",async()=>await ie().where({isModuleInfo:{$eq:!0}}).find())),i=await i,n(),i),v=u(""),x=z(()=>(T.value||[]).filter($=>{const o=$.name.toLowerCase(),a=v.value.toLowerCase();return o.includes(a)}));return($,o)=>{const a=Q,k=W,L=Ce,S=fe,R=me,V=_e,h=ve;return f(),F(h,{theme:_?"module":"default"},{menuContents:g(()=>[b(a)]),default:g(()=>[b(V,{hideMobileSidebar:""},{aside:g(()=>[b(a)]),pageHeader:g(()=>[b(k,{title:B(m).title,description:B(m).description,links:B(m).links},null,8,["title","description","links"]),l("div",De,[b(L,{id:"listing-search",inputValue:B(v),"onUpdate:inputValue":o[0]||(o[0]=p=>ue(v)?v.value=p:null)},null,8,["inputValue"])])]),default:g(()=>[b(R,null,{default:g(()=>[(f(!0),w(P,null,U(B(x),p=>{var I;return f(),F(S,{key:p._path,title:p.name,url:`${(I=p._path)==null?void 0:I.replace(/\/_module$/,"")}`},{default:g(()=>[l("p",null,C(p.description),1)]),_:2},1032,["title","url"])}),128))]),_:1})]),_:1})]),_:1},8,["theme"])}}});export{tt as default};
