import{_ as y}from"./RplLink.vue.56ee2cef.js";import{u as d}from"./useRippleEvent.32106e3d.js";import{d as h,b as c,E as _,w as g,c as p,f as m,e as w,t as R,n as f,F as E,V as x,g as B,m as V,at as b,q as D}from"./entry.29a75128.js";import{u as L}from"./asyncData.90c18aa9.js";const $={key:0,class:"rpl-icon--child"},A=h({__name:"RplVerticalNavLink",props:{text:{},href:{},active:{type:Boolean,default:!1},showChildIcon:{type:Boolean,default:!1}},emits:["itemClick"],setup(l,{emit:i}){const t=l,{emitRplEvent:o}=d("rpl-vertical-nav",i),r=()=>{o("itemClick",{action:"click",text:t.text,value:t.href})};return(a,e)=>{const s=y;return c(),_(s,{url:a.href,class:f({"rpl-vertical-nav__item":!0,"rpl-vertical-nav__item--active":a.active,"rpl-vertical-nav__link":!0,"rpl-u-focusable-block":!0}),onClick:r},{default:g(()=>[a.showChildIcon?(c(),p("span",$)):m("",!0),w("span",null,R(a.text),1)]),_:1},8,["url","class"])}}}),F=h({__name:"RplVerticalNavChildList",props:{items:{},level:{},isExpanded:{type:Boolean}},emits:["itemClick"],setup(l,{emit:i}){const t=l,{emitRplEvent:o}=d("rpl-vertical-nav",i),r=a=>{o("itemClick",{index:t.level,...a})};return(a,e)=>{const s=F;return c(),p("ul",{class:f(`
      rpl-vertical-nav__list
      rpl-vertical-nav__list--level-${t.level}
      rpl-type-p-small
    `)},[(c(!0),p(E,null,x(t.items,(n,C)=>{var v;return c(),p("li",{key:C,class:"rpl-vertical-nav__list-item"},[B(A,{text:n.text,href:n.url,active:(n==null?void 0:n.active)&&!((v=n.items)!=null&&v.some(u=>u.active)),"show-child-icon":t.level>2,tabindex:t.isExpanded?"0":"-1",onItemClick:e[0]||(e[0]=u=>r(u))},null,8,["text","href","active","show-child-icon","tabindex"]),n.items?(c(),_(s,{key:0,items:n.items,level:t.level+1,"is-expanded":t.isExpanded,onItemClick:r},null,8,["items","level","is-expanded"])):m("",!0)])}),128))],2)}}}),k=(l,i)=>i===0?l:k(l[0].children,i-1),N=async(l,i={})=>{const t=V();function o(e){return e.children&&e.children.length?t.path.startsWith(e._path):t.path===e._path}const r=e=>({id:e._path,text:e.title,url:e._path,active:o(e),items:e.children?e.children.filter(s=>s._path!==e._path).map(r):void 0}),{data:a}=await L("module-navigation",async()=>{const e=await b(D(l.join("/")).where(i)),s=k(e,1);return s?s.map(r):[]});return a.value},T=N;export{F as _,A as a,T as u};
