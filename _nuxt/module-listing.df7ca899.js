import Y from"./DocsContentNavigation.9cb408b4.js";import Z from"./DocsPageHeader.40021fe6.js";import{d as F,r as u,I as z,o as j,a as J,W as N,z as Q,b as f,c as w,e as l,t as k,X as ee,az as te,O as se,aA as d,D as E,f as L,F as U,V as P,n as H,C as ne,g as b,Y as ae,aB as r,U as oe,m as le,Z as re,E as O,w as g,M as B,a0 as ue,q as ie}from"./entry.f3348071.js";import{o as ce}from"./index.5ad737b7.js";import{_ as pe}from"./RplIcon.vue.2a498790.js";import{u as de}from"./useRippleEvent.1b7e76c4.js";import{_ as fe}from"./RplPromoCard.vue.ae84e77d.js";import me from"./DocsCardGrid.1ee48e09.js";import{_ as _e}from"./AppSidebarLayout.vue.c6cb0ea0.js";import{_ as ve}from"./AppLayout.vue.d0564f7e.js";import{u as ge}from"./asyncData.ef42ffff.js";import{u as be}from"./head.4f8a61b8.js";import"./useDocsNavigation.9d647642.js";import"./RplLink.vue.94dbbc1c.js";import"./RplExpandable.vue.23669b77.js";import"./DocsNavLink.de14d3a0.js";import"./nuxt-link.f7ceb4e7.js";import"./ready.c1d7bd5c.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./config.eeb60d0c.js";import"./DocsLink.3ca9e864.js";import"./RplTextLink.css.4edcc8f5.js";import"./RplImage.css.b2346341.js";import"./RplList.vue.b4628fbb.js";const he=["onKeydown"],ye=["for"],we=["id","aria-owns","aria-expanded","placeholder"],$e=l("div",{class:"rpl-search-bar__menu"},[l("span",{class:"rpl-search-bar__menu-noresults"}," No results ")],-1),Se=["id"],Re=["id","data-option-id","onKeydown","onClick"],Be={class:"rpl-search-bar__right"},Te={type:"submit","aria-label":"search",class:"rpl-search-bar-submit rpl-u-focusable-inline"},xe={key:0,class:"rpl-search-bar-submit__label rpl-type-label rpl-type-weight-bold"},Ie={class:"rpl-search-bar-submit__icon"},Ve={inheritAttrs:!1},ke=F({...Ve,__name:"RplSearchBar",props:{variant:{default:"default"},id:{},autoFocus:{type:Boolean,default:!1},inputLabel:{default:"Search"},inputValue:{default:""},submitLabel:{type:[String,Boolean],default:"Search"},suggestions:{default:()=>[]},maxSuggestionsDisplayed:{default:10},placeholder:{default:void 0},globalEvents:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!1}},emits:["update:inputValue","submit"],setup(K,{emit:i}){const n=K,{emitRplEvent:m}=de("rpl-search-bar",i),c=u(""),A=u(null),_=u(null),T=u(null),v=u([]),x=u(null),$=z(()=>`${n.id}__menu`),o=u(!1),a=u(null);j(()=>{n.autoFocus&&(x.value=setTimeout(()=>_.value.focus(),100))}),J(()=>{clearTimeout(x.value)}),ce(A,()=>{h(!1)});const I=e=>{m("submit",{action:"search",id:n.id,value:c.value,text:e==="button"?n.submitLabel:null,type:e},{global:n.globalEvents})},C=e=>{c.value=e.target.value,i("update:inputValue",e.target.value),o.value=!0},S=(e,t)=>{t&&_.value.focus(),c.value=e,i("update:inputValue",e),o.value=!1,m("submit",{action:"search",id:n.id,text:e,value:e,type:"suggestion"},{global:n.globalEvents})},R=()=>n.suggestions[0],D=(e=!1)=>{var t;o.value=!0,e&&((t=n.suggestions)!=null&&t.length)&&(a.value=R())},h=(e=!1)=>{o.value=!1,a.value=null,e&&_.value.focus()},p=()=>{const e=n.suggestions.findIndex(t=>t===a.value);e<0?a.value=R():e<n.suggestions.length-1&&(a.value=n.suggestions[e+1])},V=()=>{const e=n.suggestions.findIndex(t=>t===a.value);e<0?a.value=R():e>0&&(a.value=n.suggestions[e-1])},q=e=>e>47&&e<58||e===32||e===8||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223,G=e=>{q(e.keyCode)&&_.value.focus()},W=e=>a.value===e,X=e=>{const t=v.value.find(y=>y.dataset.optionId===e),s=T.value;if(s.scrollHeight>s.clientHeight){let y=s.clientHeight+s.scrollTop,M=t.offsetTop+t.offsetHeight;M>y?s.scrollTop=M-s.clientHeight:t.offsetTop<s.scrollTop&&(s.scrollTop=t.offsetTop)}t&&t.focus()};return N(()=>n.inputValue,e=>{c.value=e},{immediate:!0}),N(a,async e=>{e!==null&&(await Q(),X(e))}),(e,t)=>(f(),w("form",{class:H(`rpl-search-bar rpl-search-bar--${e.variant}`),style:ae({"--local-max-items":e.maxSuggestionsDisplayed}),onSubmit:t[6]||(t[6]=r(s=>I("button"),["prevent"]))},[l("div",{ref_key:"containerRef",ref:A,class:"rpl-search-bar__input-wrap",onKeydown:[d(r(p,["prevent"]),["down"]),d(r(V,["prevent"]),["up"]),t[3]||(t[3]=d(r(s=>h(!0),["prevent"]),["esc"])),t[4]||(t[4]=d(r(s=>h(!1),["exact"]),["tab"])),t[5]||(t[5]=d(r(s=>h(!1),["shift"]),["tab"]))]},[l("label",{class:"rpl-u-visually-hidden",for:e.id},k(e.inputLabel),9,ye),ee(l("input",se(e.$attrs,{id:e.id,ref_key:"inputRef",ref:_,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),"aria-owns":$.value,autocomplete:"off","aria-autocomplete":"list","aria-expanded":o.value,placeholder:e.placeholder,role:"combobox",class:{"rpl-search-bar__input":!0,"rpl-u-focusable-outline":!0,"rpl-u-focusable-outline--no-border":!0,"rpl-u-focusable--force-on":o.value},type:"search",onInput:C,onFocus:t[1]||(t[1]=s=>D(!1)),onKeydown:t[2]||(t[2]=d(r(s=>I("enter"),["prevent"]),["enter"]))}),null,16,we),[[te,c.value]]),e.showNoResults&&e.suggestions.length===0&&c.value.length>0&&o.value?E(e.$slots,"noresults",{key:0},()=>[$e]):L("",!0),e.suggestions.length&&o.value?(f(),w("div",{key:1,id:$.value,ref_key:"menuRef",ref:T,class:"rpl-search-bar__menu",role:"listbox",tabindex:"-1"},[(f(!0),w(U,null,P(e.suggestions,s=>(f(),w("div",{id:s,key:s,ref_for:!0,ref_key:"optionRefs",ref:v,"data-option-id":s,role:"option",class:H({"rpl-search-bar__menu-option":!0,"rpl-u-focusable-block":!0,"rpl-u-focusable--force-on":W(s)}),tabindex:"-1",onKeydown:[d(r(y=>S(s,!0),["prevent"]),["space"]),d(r(y=>S(s,!0),["prevent"]),["enter"]),G],onClick:y=>S(s,!1)},[E(e.$slots,"suggestion",{option:{option:s}},()=>[ne(k(s),1)])],42,Re))),128))],8,Se)):L("",!0)],40,he),l("div",Be,[l("button",Te,[e.submitLabel?(f(),w("span",xe,k(e.submitLabel),1)):L("",!0),l("span",Ie,[b(pe,{name:"icon-search",size:"m"})])])])],38))}});const Ae={class:"rpl-u-margin-b-8"},st=F({__name:"module-listing",async setup(K){let i,n;const{page:m}=oe();be(m);const _=le().params.slug[0]==="framework",{data:T}=([i,n]=re(async()=>ge("module-listing",async()=>await ie().where({isModuleInfo:{$eq:!0}}).find())),i=await i,n(),i),v=u(""),x=z(()=>(T.value||[]).filter($=>{const o=$.name.toLowerCase(),a=v.value.toLowerCase();return o.includes(a)}));return($,o)=>{const a=Y,I=Z,C=ke,S=fe,R=me,D=_e,h=ve;return f(),O(h,{theme:_?"module":"default"},{menuContents:g(()=>[b(a)]),default:g(()=>[b(D,{hideMobileSidebar:""},{aside:g(()=>[b(a)]),pageHeader:g(()=>[b(I,{title:B(m).title,description:B(m).description,links:B(m).links},null,8,["title","description","links"]),l("div",Ae,[b(C,{id:"listing-search",inputValue:B(v),"onUpdate:inputValue":o[0]||(o[0]=p=>ue(v)?v.value=p:null)},null,8,["inputValue"])])]),default:g(()=>[b(R,null,{default:g(()=>[(f(!0),w(U,null,P(B(x),p=>{var V;return f(),O(S,{key:p._path,title:p.name,url:`${(V=p._path)==null?void 0:V.replace(/\/_module$/,"")}`},{default:g(()=>[l("p",null,k(p.description),1)]),_:2},1032,["title","url"])}),128))]),_:1})]),_:1})]),_:1},8,["theme"])}}});export{st as default};
